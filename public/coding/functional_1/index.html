<!DOCTYPE html>
<html lang="en-us">
    <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="generator" content="Hugo 0.120.4">

    

    

    
        
            <meta
                name="description"
                content="This is my new hugo site" />
        

        
            <meta
                name="keywords"
                content="hugo,site,new" />
        

        
            <meta
                name="author"
                content="Jing Wang" />
        

    


    <title>
        
            Functional_1 |
            My New Hugo Site
        
    </title>

    


    
    

    
    


    
    


    
    


    
    

    


    
    

    

    

        
        


        
        


        <link
            rel="stylesheet"
            href="/css/index_d751713.min.9df58e9c2a03e4ceb2ff91126f04294a1ecf22e508185e556fa41e3dbe34efdb7b6fa01a7654ab906c32a8de378702d1d27718529aea0fa2aece5f3b16bcfeae.css"
            integrity="sha512-nfWOnCoD5M6y/5ESbwQpSh7PIuUIGF5Vb6QePb4079t7b6AadlSrkGwyqN43hwLR0ncYUprqD6Kuzl87Frz&#43;rg==" />
    


    
    

    

    

    

    
</head>



    <body>
        <header class="header">
    <div class="header_left">
        
    </div>

    <div class="header_middle">
        
            Functional_1 -
            My New Hugo Site
        
    </div>
</header>



        <main>
            <aside class="sidebar">
    



    
    

    
    


    <ul class="section-tree">
        
            
                <li
                    
                        class="dir closed-dir"
                    >
                    <span class="dir-text"> Setups </span>

                    



    
    

    
    


    <ul class="section-tree">
        
            
                <li class="file">
                    <a href="https://example.org/setups/hugo/" title="./setups/hugo/">
                        Hugo PowerShell
                    </a>
                </li>
            
        
            
                <li class="file">
                    <a href="https://example.org/setups/r_setup/" title="./setups/r_setup/">
                        R
                    </a>
                </li>
            
        
    </ul>


                </li>
            
        
            
                <li
                    
                        class="dir opened-dir"
                    >
                    <span class="dir-text"> Codings </span>

                    



    
    

    
    


    <ul class="section-tree">
        
            
                <li class="file">
                    <a href="https://example.org/coding/functional_1/" title="./coding/functional_1/">
                        Functional_1
                    </a>
                </li>
            
        
    </ul>


                </li>
            
        
    </ul>


</aside>
<aside class="exapandable"></aside>


            
    <article class="main">
        <button
    class="sidebar-toggle-btn"
    type="menu"
    aria-expanded="false"
    aria-haspopup="true">
    <i class="bi bi-list"></i>
</button>



        <div class="title">
            <h1 class="title-header">
                Functional_1
            </h1>

            <div class="author-date-readtime">
                

                    
                        <div class="author" title="Author">
                            <i class="bi bi-person"></i>
                            <a
                                href="/author/jing-wang/"
                                class="cat-btn">
                                Jing Wang
                            </a>
                        </div>
                    

                

                
                    <div class="date" title="Date">
                        <i class="bi bi-calendar3"></i>
                        <time
                            datetime="2023.11.17"
                            >2023.11.17
                        </time>
                    </div>
                

                
                    <div
                        class="readtime"
                        title="Time to Read">
                        <i class="bi bi-clock"></i>
                        7 mins to read
                    </div>
                
            </div>
        </div>

        <div class="article-meta">
            

            

            
                <div class="breadcumb">
                    <i class="bi bi-folder"></i>
                    
    
    




<a href="https://example.org/" class="bread-btn">
    
        <i class="bi bi-house-fill"></i>
    

    
        Home
    
</a>




    /



<a href="https://example.org/coding/" class="bread-btn">
    

    
        Codings
    
</a>




    /



<a href="https://example.org/coding/functional_1/" class="bread-btn">
    

    
        Functional_1
    
</a>

                </div>
            

            
        </div>

        
            <nav id="TableOfContents">
  <ul>
    <li><a href="#create-a-function">Create a function</a>
      <ul>
        <li><a href="#function-declarations">Function Declarations</a></li>
        <li><a href="#function-expressions">Function Expressions</a></li>
      </ul>
    </li>
    <li><a href="#functions-as-first-class-objects">Functions as first-class objects</a></li>
    <li><a href="#iterators">Iterators</a></li>
    <li><a href="#pipes">Pipes</a></li>
    <li><a href="#further-readings-on-functional-programming-in-r">Further readings on Functional Programming in R</a></li>
  </ul>
</nav>
        


        <div class="content">
            
                <h1 id="heading"></h1>
<h2 id="create-a-function">Create a function</h2>
<p>In <strong>JavaScript</strong> you can create functions in 2 ways:</p>
<ul>
<li>by Function Declaration</li>
<li>as Function Expressions</li>
</ul>
<h3 id="function-declarations">Function Declarations</h3>
<p>C-style syntax function declarations are used to create <em>named functions</em>.
These functions can be called using their declared name.</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="//%20JS%20Function%20Declaration%0afunction%20twoFold%28num%29%20%7b%0a%09return%202%20*%20num;%0a%7d">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// JS Function Declaration
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">twoFold</span>(<span style="color:#a6e22e">num</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">num</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
    
</div>
<p>A similar syntax is also used, for instance, in <strong>Python</strong></p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#75715e"># Python Function Declaration</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">twoFold</span>(num):
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> num</span></span></code></pre></div>
    
</div>
<p>or in <strong>MATLAB</strong>, except that, in this case, the returned value must also be
indicated to the left of the <code>=</code> symbol in function declaration (the <code>return</code>
keyword has a different usage here).</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="%25%20MATLAB%20Function%20Declaration%0afunction%20doubledNum%20=%20twoFold%28num%29%0a%09doubledNum%20=%202%20*%20num;%0aend">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#75715e">% MATLAB Function Declaration</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> doubledNum = <span style="color:#a6e22e">twoFold</span>(num)
</span></span><span style="display:flex;"><span>	doubledNum = <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> num;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span></span></span></code></pre></div>
    
</div>
<h3 id="function-expressions">Function Expressions</h3>
<p>Function expressions create functions inside an expression instead of through a
function declaration. These functions are usually <strong>anonymous functions</strong> that
do not have a name property, but can be (optionally) assigned to a variable in
order to refer to it (i.e., we can invoke it with the variable name we assigned
it to).</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="//%20JS%20Function%20Expressions%20-%20traditional%20syntax%0aconst%20twoFold%20=%20function%28num%29%20%7b%0a%09return%202%20*%20num;%0a%7d%0a%0a//%20JS%20Arrow%20Function%20-%20concise%20syntax%20%28starting%20from%20ES6%29%0aconst%20y%20=%20x%20=%3e%202*x;">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// JS Function Expressions - traditional syntax
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">twoFold</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">num</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">num</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// JS Arrow Function - concise syntax (starting from ES6)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> =&gt; <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span><span style="color:#a6e22e">x</span>;</span></span></code></pre></div>
    
</div>
<p>Notably, this is also the standard way of defining functions in <strong>R</strong>,</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#%20R%20Function%20Definition%20-%20traditional%20syntax%0atwoFold%20%3c-%20function%28num%29%20%7b%0a%09return%282%20*%20num%29%0a%7d%0a%0a#%20R%20Shorthand%20notation%20%28starting%20from%20R%204.1.0%29%0ay%20%3c-%20%5c%28x%29%202*x">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># R Function Definition - traditional syntax</span>
</span></span><span style="display:flex;"><span>twoFold <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(num) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span>(<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> num)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># R Shorthand notation (starting from R 4.1.0)</span>
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">\</span>(x) <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>x</span></span></code></pre></div>
    
</div>
<p>or the <em>lambda functions</em> in <strong>Python</strong>,</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#75715e"># Python lambda function notation</span>
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x: <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>x</span></span></code></pre></div>
    
</div>
<p>or the <em>anonymous functions</em> in <strong>MATLAB</strong>.</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="%25%20MATLAB%20anonymous%20function%20notation%0ay%20=%20@%28x%29%202*x;">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#75715e">% MATLAB anonymous function notation</span>
</span></span><span style="display:flex;"><span>y = @(x) <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>x;</span></span></code></pre></div>
    
</div>
<h2 id="functions-as-first-class-objects">Functions as first-class objects</h2>
<p>In functional programming, functions are treated as <em>first-class citizens</em>,
meaning that they can be bound to names (including local identifiers), passed as
arguments, and returned from other functions, just as any other data type can.
You can do with a function whatever you can do with any other object.</p>
<p>In <strong>JS</strong>, functions are special objects because they can be <em>invoked</em>.
Nevertheless, they have properties (such as <code>.length</code> and <code>.name</code>) and methods
(such as <code>.toString()</code>) like any other object, and we can still treat them as
such.</p>
<p>Function expressions seem to reflect this aspect more than function declarations
and for this reason they have been gradually taking over, although both ways can
be used within a <strong>JS</strong> functional paradigm context.</p>
<p>Functions that return and/or take functions as arguments are called <em>higher-order
functions</em>, being analogous to the mathematical concept of <em>operator</em>. Functions
that get passed in as parameters to another (higher-order) function are known as
<em>callback functions</em>. Callback functions get invoked during the execution of the
higher-order function.</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="const%20log2%20=%20x%20=%3e%20Math.log2%28x%29;%20%20%20%20%20%20%20%20%20//%20Callback%20function%201%0aconst%20plus1%20=%20x%20=%3e%20x&#43;1;%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Callback%20function%202%0aconst%20compose%20=%20%28g,f,x%29%20=%3e%20f%28g%28f%28x%29%29%29;%20%20//%20Higher-order%20function%0a%0aconsole.log%28%0a%09compose%28plus1,%20log2,%208%29%0a%29;%20//%20returns%202">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">log2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> =&gt; Math.<span style="color:#a6e22e">log2</span>(<span style="color:#a6e22e">x</span>);         <span style="color:#75715e">// Callback function 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">plus1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;                 <span style="color:#75715e">// Callback function 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">compose</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">g</span>,<span style="color:#a6e22e">f</span>,<span style="color:#a6e22e">x</span>) =&gt; <span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">g</span>(<span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">x</span>)));  <span style="color:#75715e">// Higher-order function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">plus1</span>, <span style="color:#a6e22e">log2</span>, <span style="color:#ae81ff">8</span>)
</span></span><span style="display:flex;"><span>); <span style="color:#75715e">// returns 2
</span></span></span></code></pre></div>
    
</div>
<p>In a functional programming context, it is common practice to define callback
functions on the fly (<em>in-place</em>) as anonymous functions.</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="console.log%28%0a%09compose%28x%20=%3e%20x&#43;1,%20x%20=%3e%20Math.sqrt%28x%29,%209%29%0a%29;%20//%20returns%202">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span> =&gt; Math.<span style="color:#a6e22e">sqrt</span>(<span style="color:#a6e22e">x</span>), <span style="color:#ae81ff">9</span>)
</span></span><span style="display:flex;"><span>); <span style="color:#75715e">// returns 2
</span></span></span></code></pre></div>
    
</div>
<p>that is the <strong>JS</strong>-equivalent of the following <strong>R</strong> code:</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="compose%20%3c-%20function%28g,f,x%29%20%7b%0a%20%20return%28f%28g%28f%28x%29%29%29%29%0a%7d%0a%0acompose%28%5c%28x%29x&#43;1,%20sqrt,%209%29%20#%20returns%202">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>compose <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(g,f,x) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span>(<span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">g</span>(<span style="color:#a6e22e">f</span>(x))))
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">\</span>(x)x<span style="color:#ae81ff">+1</span>, sqrt, <span style="color:#ae81ff">9</span>) <span style="color:#75715e"># returns 2</span></span></span></code></pre></div>
    
</div>
<p>Everything can be made even more abstract if we use the <code>compose</code> higher-order
function to take <strong>and return</strong> a pure function instead of a numeric value
(just like a real mathematical operator).</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="//%20JS%20operator%20definition%20%28last%20round%20brackets%20are%20not%20even%20needed...%29%0aconst%20compose%20=%20%28g,f%29%20=%3e%20%28x%20=%3e%20f%28g%28f%28x%29%29%29%29;%20%20%20%20%20%20%20%20%20//%20Higher-order%20Function%0a%0a//%20Ordinary%20functions%20can%20then%20be%20created%20specifying%20the%20operator%27s%20arguments%0a//%20and%20assigned%20to%20an%20identifier%20to%20be%20invoked...%0aconst%20h%20=%20compose%28x%20=%3e%20x&#43;1,%20x%20=%3e%20Math.log2%28x%29%29;%20%20%20%20%20//%20Ordinary%20Function%0aconsole.log%28h%288%29%29;%20//%20returns%202%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Evaluated%20Function%0a%0a//%20...or%20not%0aconsole.log%28%0a%20%20compose%28x%20=%3e%20x&#43;1,%20x%20=%3e%20Math.sqrt%28x%29%29%289%29%0a%29;%20//%20returns%202">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// JS operator definition (last round brackets are not even needed...)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">compose</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">g</span>,<span style="color:#a6e22e">f</span>) =&gt; (<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">g</span>(<span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">x</span>))));         <span style="color:#75715e">// Higher-order Function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Ordinary functions can then be created specifying the operator&#39;s arguments
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// and assigned to an identifier to be invoked...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">h</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span> =&gt; Math.<span style="color:#a6e22e">log2</span>(<span style="color:#a6e22e">x</span>));     <span style="color:#75715e">// Ordinary Function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">h</span>(<span style="color:#ae81ff">8</span>)); <span style="color:#75715e">// returns 2                     // Evaluated Function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...or not
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span> =&gt; Math.<span style="color:#a6e22e">sqrt</span>(<span style="color:#a6e22e">x</span>))(<span style="color:#ae81ff">9</span>)
</span></span><span style="display:flex;"><span>); <span style="color:#75715e">// returns 2
</span></span></span></code></pre></div>
    
</div>
<p>This can be translated in <strong>R</strong> as</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#%20R%20operator%20definition%0acompose%20%3c-%20function%28g,f%29%20%7b%0a%20%20return%28function%28x%29%20%7b%0a%20%20%20%20return%28f%28g%28f%28x%29%29%29%29%0a%20%20%7d%29%0a%7d%0a%0a#%20or%20more%20concisely%20%28last%20round%20brackets%20are%20not%20even%20needed...%29%0acompose%20%3c-%20%5c%28g,f%29%28%5c%28x%29f%28g%28f%28x%29%29%29%29%0a%0acompose%28%5c%28x%29x&#43;1,%20sqrt%29%289%29%20#%20returns%202">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># R operator definition</span>
</span></span><span style="display:flex;"><span>compose <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(g,f) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span>(<span style="color:#66d9ef">function</span>(x) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>(<span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">g</span>(<span style="color:#a6e22e">f</span>(x))))
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or more concisely (last round brackets are not even needed...)</span>
</span></span><span style="display:flex;"><span>compose <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">\</span>(g,f)(<span style="color:#a6e22e">\</span>(x)<span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">g</span>(<span style="color:#a6e22e">f</span>(x))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">\</span>(x)x<span style="color:#ae81ff">+1</span>, sqrt)(<span style="color:#ae81ff">9</span>) <span style="color:#75715e"># returns 2</span></span></span></code></pre></div>
    
</div>
<h2 id="iterators">Iterators</h2>
<p>Instead of using loops, pure functional programming languages use <em>iterators</em>
to achieve the same result. Iterators are higher-order functions that take in
both data and (possibly anonymous) callback functions, and apply the latter to
the former. These iterators are often called <code>Map</code>, <code>Filter</code>, <code>Reduce</code>&hellip;</p>
<p>In <strong>JS</strong> iterators are implemented in the form of <em>array methods</em> that can be
called on array objects to manipulate elements and return values. There are many
iteration methods:</p>
<ul>
<li>The <code>.forEach()</code> method executes a callback function on each element in the
array in order. Its return value is discarded.</li>
<li>The <code>.map()</code> method creates a new array populated with the results of calling
a provided callback function on every element in the calling array.</li>
<li>The <code>.filter()</code> method creates a <em>shallow copy</em> of a portion of a given array,
filtered down to just the elements that pass the test implemented by the
provided function.</li>
<li>The <code>.reduce()</code> method executes a user-supplied <em>reducer</em> callback function on
each element of the array, in order, passing in the return value from the
calculation on the preceding element, until a single value is produced.
Specifically, the callback function has two parameters, <code>accumulator</code> and
<code>currentValue</code>. The value of <code>accumulator</code> starts off as the value of the
first element in the array and the <code>currentValue</code> starts as the second
element. As <code>.reduce()</code> iterates through the array, the return value of the
callback function becomes the <code>accumulator</code> value for the next iteration,
while <code>currentValue</code> takes on the value of the current element in the looping
process.</li>
</ul>
<p>Other frequently used iteration methods are <code>.findIndex()</code>, <code>.every()</code>, and
<code>.some()</code>. See the complete list of the built-in array methods and the related
documentation on the
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Mozilla Developer Network (MDN) Array</a>
page.</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="//%20Application%20of%20JS%20main%20iterators%0adata%20=%20[0.5,%201,%202,%208];%0aconst%20compose%20=%20%28g,f%29%20=%3e%20%28x%20=%3e%20f%28g%28f%28x%29%29%29%29;%0a%0adata.forEach%28x%20=%3e%20console.log%28x%29%29;%20//%20It%20just%20prints%20the%20elements%20of%20the%20array.%0a//%20The%20%60.forEach%60%20method%20has%20%60undefined%60%20return%0a//%20The%20callback%20function%20has%20no%20return%0a%0aconsole.log%28%0a%09data.map%28compose%28x%20=%3e%20x&#43;1,%20x%20=%3e%20Math.log2%28x%29%29%29%0a%29;%20//%20returns%20[%20-Infinity,%200,%201,%202%20]%0a%0aconsole.log%28%0a%09data.filter%28x%20=%3e%20x%20%3e=%201%29%0a%29;%20//%20returns%20[%201,%202,%208%20]%0a%0aconst%20sum%20=%20data.reduce%28%28accumulator,%20currentValue%29%20=%3e%20%7b%0a%20%20console.log%28%27The%20value%20of%20accumulator%20:%20%27,%20accumulator%20%29;%0a%20%20console.log%28%27The%20value%20of%20currentValue:%20%27,%20currentValue%29;%0a%20%20return%20accumulator%20&#43;%20currentValue;%0a%7d%29;%0aconsole.log%28sum%29;%20//%20returns%2011.5">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// Application of JS main iterators
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">8</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">compose</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">g</span>,<span style="color:#a6e22e">f</span>) =&gt; (<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">g</span>(<span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">x</span>))));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">forEach</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">x</span>)); <span style="color:#75715e">// It just prints the elements of the array.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// The `.forEach` method has `undefined` return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// The callback function has no return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span> =&gt; Math.<span style="color:#a6e22e">log2</span>(<span style="color:#a6e22e">x</span>)))
</span></span><span style="display:flex;"><span>); <span style="color:#75715e">// returns [ -Infinity, 0, 1, 2 ]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">filter</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>); <span style="color:#75715e">// returns [ 1, 2, 8 ]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sum</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">reduce</span>((<span style="color:#a6e22e">accumulator</span>, <span style="color:#a6e22e">currentValue</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;The value of accumulator : &#39;</span>, <span style="color:#a6e22e">accumulator</span> );
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;The value of currentValue: &#39;</span>, <span style="color:#a6e22e">currentValue</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">accumulator</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">currentValue</span>;
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">sum</span>); <span style="color:#75715e">// returns 11.5
</span></span></span></code></pre></div>
    
</div>
<p><strong>R</strong> comes with the <code>*apply()</code> family of functions (which are implementations
of <code>Map</code>), as well as <code>Map()</code>, <code>Filter()</code>, and <code>Reduce()</code> for functional
programming. As an alternative, the <code>{purrr}</code> package from the <em>Tidyverse</em>
provides a more complete and consistent set of tools for functional programming,
including the <code>map()</code>, <code>reduce()</code>, and <code>keep()</code> functions.</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="#ZgotmplZ">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">8</span>)
</span></span><span style="display:flex;"><span>compose <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">\</span>(g,f)(<span style="color:#a6e22e">\</span>(x)<span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">g</span>(<span style="color:#a6e22e">f</span>(x))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sapply</span>(data, print) <span style="color:#75715e"># prints the elements of the array and returns it as a vector</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or, alternatively,</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Map</span>(print, data) <span style="color:#75715e"># prints the elements of the array and returns it as a list</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sapply</span>(data, <span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">\</span>(x)x<span style="color:#ae81ff">+1</span>, log2)) <span style="color:#75715e"># returns: -Inf 0 1 2 (as a vector)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or, alternatively,</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Map</span>(<span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">\</span>(x)x<span style="color:#ae81ff">+1</span>, log2), data) <span style="color:#75715e"># returns -Inf 0 1 2 (as a list)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Filter</span>(<span style="color:#a6e22e">\</span>(x){x <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span>}, data) <span style="color:#75715e"># returns: 1 2 8</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Reduce</span>(<span style="color:#e6db74">&#39;+&#39;</span>, data) <span style="color:#75715e"># returns: 11.5</span></span></span></code></pre></div>
    
</div>
<h2 id="pipes">Pipes</h2>
<p>Within the functional paradigm, it is generally preferred to <em>compose</em> functions
through <strong>pipe operators</strong> rather than to nest them. This greatly improves the
readability (and maintainability) of code, as shown in the following <strong>R</strong>
example (see also
<a href="https://www.jumpingrivers.com/blog/new-features-r410-pipe-anonymous-functions/">New features in R 4.1.0</a>
).</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="data%20%3c-%20c%280.5,%201,%202,%208%29%0acompose%20%3c-%20%5c%28g,f%29%28%5c%28x%29f%28g%28f%28x%29%29%29%29%0a%0a#%20Compare%20the%20clarity%20of%20the%20following%20pipe...%0aFilter%28%5c%28x%29%7bx%20%3e=%201%7d,%20data%29%20%7c%3e%20sapply%28compose%28%5c%28x%29x&#43;1,%20log2%29%29%20%7c%3e%20sum%28%29%0a%0a#%20...with%20the%20equivalent%20nested%20form%0asum%28sapply%28Filter%28%5c%28x%29%7bx%20%3e=%201%7d,%20data%29,%20compose%28%5c%28x%29x&#43;1,%20log2%29%29%29%20%20#%20both%20return%203">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">8</span>)
</span></span><span style="display:flex;"><span>compose <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">\</span>(g,f)(<span style="color:#a6e22e">\</span>(x)<span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">g</span>(<span style="color:#a6e22e">f</span>(x))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Compare the clarity of the following pipe...</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Filter</span>(<span style="color:#a6e22e">\</span>(x){x <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span>}, data) <span style="color:#f92672">|&gt;</span> <span style="color:#a6e22e">sapply</span>(<span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">\</span>(x)x<span style="color:#ae81ff">+1</span>, log2)) <span style="color:#f92672">|&gt;</span> <span style="color:#a6e22e">sum</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ...with the equivalent nested form</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">sapply</span>(<span style="color:#a6e22e">Filter</span>(<span style="color:#a6e22e">\</span>(x){x <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span>}, data), <span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">\</span>(x)x<span style="color:#ae81ff">+1</span>, log2)))  <span style="color:#75715e"># both return 3</span></span></span></code></pre></div>
    
</div>
<p>Notice that both nesting and pipes are suitable to limit the use of unnecessary
variables, but pipes, in addition, maintain the natural sequence of
function-calls in the written code.</p>
<p><strong>JavaScript</strong> does not have a native pipe operator like some other languages.
However, you can achieve a similar effect using <em>method chaining</em>.</p>






<div class="codeblock">
    
        <div class="copy-button-box">
            <button class="copy-button" state="copy" data="data%20=%20[0.5,%201,%202,%208];%0aconst%20compose%20=%20%28g,f%29%20=%3e%20%28x%20=%3e%20f%28g%28f%28x%29%29%29%29;%0a%0aconsole.log%28%0a%09data%0a%09.filter%28x%20=%3e%20x%20%3e=%201%29%0a%09.map%28compose%28x%20=%3e%20x&#43;1,%20x%20=%3e%20Math.log2%28x%29%29%29%0a%09.reduce%28%28x,y%29%20=%3e%20x&#43;y%29%0a%29;%20//%20returns%203">
                <i class="bi bi-clipboard"></i>
            </button>
        </div>
    

    
        <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">8</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">compose</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">g</span>,<span style="color:#a6e22e">f</span>) =&gt; (<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">g</span>(<span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">x</span>))));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">data</span>
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">filter</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">compose</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span> =&gt; Math.<span style="color:#a6e22e">log2</span>(<span style="color:#a6e22e">x</span>)))
</span></span><span style="display:flex;"><span>	.<span style="color:#a6e22e">reduce</span>((<span style="color:#a6e22e">x</span>,<span style="color:#a6e22e">y</span>) =&gt; <span style="color:#a6e22e">x</span><span style="color:#f92672">+</span><span style="color:#a6e22e">y</span>)
</span></span><span style="display:flex;"><span>); <span style="color:#75715e">// returns 3
</span></span></span></code></pre></div>
    
</div>
<h2 id="further-readings-on-functional-programming-in-r">Further readings on Functional Programming in R</h2>
<ul>
<li><a href="https://www.stat.umn.edu/geyer/8054/notes/functional.html">Lecture Notes: R as a Functional Programming Language</a></li>
<li><a href="https://www.r-bloggers.com/2014/04/functional-programming-in-r/">R-bloggers: Functional programming in R</a></li>
<li><a href="http://adv-r.had.co.nz/Functional-programming.html">Advanced R: Functional programming</a></li>
<li><a href="http://adv-r.had.co.nz/Functionals.html">Advanced R: Functionals</a></li>
<li><a href="http://adv-r.had.co.nz/Function-operators.html">Advanced R: Function operators</a></li>
<li><a href="https://modern-rstats.eu/functional-programming.html">Modern R with the tidyverse: Functional programming</a></li>
</ul>

            
        </div>
    </article>

        </main>

        <footer class="footer">
    <div class="footer-left">
        <ul class="social">
            
                <li>All Rights Reserved ®.</li>
            

            
                <li>Jing Wang</li>
            

            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        </ul>
    </div>

    <div class="footer-right">
        <ul class="control status clearfix">
            
                <li>
                    
                        Word Count:
                        1413
                    
                </li>
            

            
            

            
                <li>en</li>
            

            
                <li>
                    <a href="https://gohugo.io" class="btn" target="_blank"
                        >Hugo: 0.120.4</a
                    >
                </li>
            

            
                <li>
                    <a
                        href="https://github.com/JingWangTW/dark-theme-editor"
                        class="btn"
                        target="_blank"
                        >Theme: dark-theme-editor</a
                    >
                </li>
            

            
                <li>
                    
                        Last modified: &nbsp;
                        <time>
                            Nov 17 2023 23:54:16
                        </time>
                    
                </li>
            

            
                <li title="">
                    
                </li>
            
        </ul>
    </div>
</footer>

    </body>

    























    
    


    
    


    <script
        type="text/javascript"
        src="/js/index_d751713.min.0f452eed6f68af149fe54a5968d067f15e00cd391f7c734ee76a275067b3218dfcadb0c38adda0858e487f8963f377cf846beeaf10c70828adb7de37ef4e4984.js"
        integrity="sha512-D0Uu7W9orxSf5UpZaNBn8V4AzTkffHNO52onUGezIY38rbDDit2ghY5If4lj83fPhGvurxDHCCitt943705JhA=="></script>














<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />




</html>
